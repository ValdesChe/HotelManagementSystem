<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:ui="http://java.sun.com/jsf/facelets">

	<ui:composition template="../resources/adminpage.xhtml">

		<ui:define name="title">Alpha HOTEL | Bienvenue</ui:define>

		<ui:define name="content">

			<!--/ Main container /-->
			<div class="container">
				<div class="table-wrapper">
					<div class="table-title">
						<div class="row">
							<div class="col-sm-6">
								<!-- Search form -->
								<input class="form-control" type="text" placeholder="Search" aria-label="Search"/>
							</div>
							<div class="col-sm-6">
								<a href="#{request.getContextPath()}/admin/adduser.xhtml" class="btn btn-success" ><i class="material-icons">&#xE147;</i> <span>Ajouter un employé</span></a>
								<!--
								 <a href="#deleteproduitModal" class="btn btn-danger" data-toggle="modal"><i class="material-icons">&#xE15C;</i> <span>Delete</span></a>
								 -->
							</div>
						</div>
					</div>
					<table class="table table-striped table-hover">
						<thead>
						<tr>
							<th>Noms et prénoms</th>
							<th>Email</th>
							<th>Etat compte</th>
							<th>Date dernère MàJ</th>
							<th>Actions</th>
						</tr>
						</thead>
						<tbody>

						<ui:repeat value="#{userManagerController.utilisateurList}" var="utilisateur" >
							<tr>

									<td>
										#{utilisateur.nom}&nbsp;
										#{utilisateur.prenom}
									</td>
									<td>
										#{utilisateur.email}
									</td>
									<td>
										#{utilisateur.status}
									</td>
									<td>
										#{utilisateur.updated_at}
									</td>
									<td>
										<div class="form-group">
											<div class="dropdown">
												<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton#{utilisateur.login}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
													Actions
												</button>
												<div class="dropdown-menu" aria-labelledby="dropdownMenuButton#{utilisateur.login}">
													<h:form>
														<h:commandLink styleClass="dropdown-item" action="#{userManagerController.editUser(utilisateur)}" href="#" value="Modifier" />
														<a class="dropdown-item" href="#">Supprimer</a>
													</h:form>
												</div>
											</div>
										</div>
									</td>
							</tr>
						</ui:repeat>
						</tbody>
					</table>
				</div>
			</div>
		</ui:define>

	</ui:composition>
</html>
